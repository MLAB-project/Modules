<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title> TTLPROBE02A </title>
    <meta name="keywords" content="stavebnice MLAB TTL logcká sonda modul MLAB">
    <meta name="description" content="Projekt MLAB, TTL logická sonda jako modul MLAB">
    <!-- AUTOINCLUDE START "Page/Head.cs.ihtml" DO NOT REMOVE -->
    <link rel="StyleSheet" href="../../../../../Web/CSS/MLAB.css" type="text/css" title="MLAB základní styl">
    <link rel="StyleSheet" href="../../../../../Web/CSS/MLAB_Print.css" type="text/css" media="print">
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../Web/PIC/MLAB.ico">
    <script type="text/javascript" src="../../../../../Web/JS/MLAB_Menu.js"></script>
    <!-- AUTOINCLUDE END -->
  </head>

  <body lang="cs">

    <!-- AUTOINCLUDE START "Page/Header.cs.ihtml" DO NOT REMOVE -->
    <!-- ============== HLAVICKA ============== -->
    <div class="Header">
      <script type="text/javascript">
      <!--
        SetRelativePath("../../../../../");
        DrawHeader();
      // -->
      </script>
      <noscript>
        <p><b> Pro zobrazení (vložení) hlavičky je potřeba JavaScript </b></p>
      </noscript>
    </div>
    <!-- AUTOINCLUDE END -->

    <!-- AUTOINCLUDE START "Page/Menu.cs.ihtml" DO NOT REMOVE -->
    <!-- ============== MENU ============== -->
    <div class="Menu">
      <script type="text/javascript">
      <!--
        SetRelativePath("../../../../../");
        DrawMenu();
      // -->
      </script>
      <noscript>
        <p><b> Pro zobrazení (vložení) menu je potřeba JavaScript </b></p>
      </noscript>
    </div>
    <!-- AUTOINCLUDE END -->

    <!-- ============== TEXT ============== -->
    <div class="Text">
      <p class="Title">
        Logická sonda – do stavebnice
      </p>
      <p class=Autor>
        Milan Horkel
      </p>
      <p class="Subtitle">
        Logická sonda v podobě modulu slouží k zobrazování logických stavů H a
        L a neurčitého stavu X TTL logiky na třech LED. Logická sonda zobrazuje
        krátké impulsy na vstupu tak, aby byly viditelné.
      </p>
      <p class="Subtitle">
        <img width="284" height="134" src="Pictures/image001.gif"
         alt="Pohled zhora">
        <img width="283" height="133" src="Pictures/image002.jpg"
         alt="Pohled zdola">
      <p>
        <a href="../TTLPROBE02A.cs.pdf"><img class="NoBorder"
           src="../../../../../Web/PIC/FileIco_PDF.ico"
           alt="Acrobat">&nbsp;PDF verze</a>
      </p>

      <h1> Technické parametry </h1>

      <table>
        <tr>
          <th> Parametr </th>
          <th> Hodnota </th>
          <th> Poznámka </th>
        </tr>
        <tr>
          <td> Napájení </td>
          <td> +5V ±5% </td>
          <td> </td>
        </tr>
        <tr>
          <td> Spotřeba </td>
          <td> cca 20mA </td>
          <td> </td>
        </tr>
        <tr>
          <td> Vstupní napětí </td>
          <td> -12V až +12V </td>
          <td> Krátkodobě </td>
        </tr>
        <tr>
          <td> Vstupní proud </td>
          <td> -200uA až +300uA </td>
          <td> Min. cca 7.5kΩ </td>
        </tr>
        <tr>
          <td> Stav L </td>
          <td> &lt;0.8V </td>
          <td> Stav Low </td>
        </tr>
        <tr>
          <td> Stav X </td>
          <td> 0.8V .. 2.0V </td>
          <td> Nerozhodný stav </td>
        </tr>
        <tr>
          <td> Stav H </td>
          <td> &gt;2.0V </td>
          <td> Stav High </td>
        </tr>
        <tr>
          <td> Rozměry </td>
          <td> 51 x 16 x 5 mm </td>
          <td> Nad nosnou deskou </td>
        </tr>
      </table>

      <h1> Popis konstrukce </h1>

      <h2> Úvodem </h2>

      <p>
        Logická sonda je základní pomůcka pro práci s číslicovou technikou
        protože umožňuje rychle zobrazovat logické stavy na měřeném místě.
        Kromě pasivního zobrazování logických stavů je sonda schopna zobrazovat
        i krátké impulsy (délky řádu nanosekund), které by byly přímo
        neviditelné.
      </p>

      <p>
        Konstrukce přímo vychází z logické sondy, která byla publikována v
        ARA8/80 (tehdy se stavěla na soutěži Integra 1980). Logická sonda je
        velmi jednoduchá a plně vyhovuje svými parametry i dnes po více než 20
        letech od svého vzniku. Zapojení je funkčně shodné s původní
        konstrukcí, jen hodnoty součástek jsou upravené pro současnou
        součástkovou základnu.
      </p>

      <h2> Zapojení modulu </h2>

      <p>
        Logická sonda má na vstupu emitorový sledovač s tranzistorem Q1, který
        zajišťuje dostatečně vysokou vstupní impedanci sondy tak, aby sonda
        příliš neovlivňovala testovaný obvod. K ovlivnění vždy dojde ale
        logické obvody pracují s vysokou mírou odolnosti a tak by se chování
        měřeného obvodu nemělo změnit. Pokud přesto ke změně dojde, je to
        známkou toho, že je obvod chybně navržen.
      </p>

      <p>
        Diody D1, D2 a D3 spolu s emitorovou diodou Q1 posouvají vstupní úrovně
        o cca 1.4V tak, aby bylo možné nastavit rozhodovací úrovně pro přechod
        mezi stavy L-X-H pomocí trimrů P1 a P2. Skutečná rozhodovací úroveň
        hradel bývá kolem 1.4V. Dioda D4 chrání emitorový přechod tranzistoru
        Q1 před záporným napětím a kondenzátor C1 zlepšuje dynamické chování
        vstupního obvodu. Odpory R1 a R2 (spolu s diodami D1, D2 a D3) definují
        klidové napětí na vstupu sondy, pokud není nikam připojena (kolem
        1.6V).
      </p>

      <p>
        <img width="355" height="888" src="Pictures/image005.gif"
         alt="Schéma zapojení">
      </p>

      <p>
        Dále uvedené grafy zobrazují závislost vstupního proudu na vstupním
        napětí (záporná hodnota znamená, že proud teče ze sondy ven) a
        závislost rozhodovací úrovně na napájecím napětí. Obě rozhodovací
        úrovně mají 2 čáry protože je jejich hodnota nejistá a to dvěma možnými
        způsoby. Buď má sonda hysterezi (tedy překlápí stav v různých bodech v
        závislosti na tom, zda napětí roste nebo klesá) – tak se chová sonda
        osazená obvody PHILIPS 74HCT00) nebo svítí současně dvě LED (tedy začne
        se postupně rozsvěcet stav X a teprve poté zhasínat stav H nebo L) –
        tak se chová sonda osazená obvody ST 74HCT00. Obě varianty jsou
        prakticky stejně použitelné.
      </p>

      <p>
        <img width="324" height="203" src="Pictures/image003.gif"
         alt="V-A charakteristika vstupu">
        <img width="309" height="203" src="Pictures/image004.gif"
         alt="Závislost rozhodovací úrovně na napájení">
      </p>

      <p>
        Na běžce trimrů jsou připojena hradla, která detekují příslušné
        rozhodovací úrovně a jejich výstup aktivuje monostabilní klopné obvody,
        které přímo budí indikační LED. Monostabilní klopné obvody prodlužují
        krátké impulsy (od délky řádu 10 nanosekund) tak, aby byly zrakem
        viditelné (řádově desetiny sekundy).
      </p>

      <p>
        Dioda D8 je ochranná proti přepólování. Pozor na to, že ochranná dioda
        ochrání sondu jen v případě, že sama vydrží. Zdroj z počítače PC
        zapojený opačně ji zcela určitě zničí i s celou sondou a možná i s
        kabelem. Pokud hrozí taková chyba, je vhodné sondu připojovat přes
        malou Schottkyho diodu vkladném pólu napájení (například BAT41). Malý
        úbytek napětí nevadí.
      </p>

      <p>
        <img width="314" height="117" src="Pictures/image006.gif"
         alt="Ochrana napájení">
      </p>

      <h2> Mechanická konstrukce </h2>

      <p>
        Sonda je realizována v podobě modulu projektu MLAB a je vybavena dvěma
        šrouby pro připevnění na nosnou desku. Připevňuje se součástkami směrem
        k nosné desce.
      </p>

      <h1> Osazení a oživení </h1>

      <h2> Osazení </h2>

      <p>
        <img width="403" height="162" src="Pictures/image007.jpg"
         alt="Osazení">
      </p>

      <table class="Soupiska">
        <tr>
          <th> Reference </th>
          <th> Název </th>
          <th> </th>
          <th> Reference </th>
          <th> Název </th>
        </tr>
        <tr>
          <th colspan="2"> Odpory R0805 </th>
          <td></td>
          <th colspan="2"> Tranzistory </th>
        </tr>
        <tr>
          <td> R10 </td>
          <td> 0 </td>
          <td> </td>
          <td> Q1 </td>
          <td> BC817-25SMD </td>
        </tr>
        <tr>
          <td> R5, R6, R9 </td>
          <td> 330 </td>
          <td></td>
          <th colspan="2"> Integrované obvody </th>
        </tr>
        <tr>
          <td> R1, R2, R4, R8 </td>
          <td> 15k </td>
          <td> </td>
          <td> U1, U2 </td>
          <td> 74HCT00SMD </td>
        </tr>
        <tr>
          <td> R3, R7 </td>
          <td> 27k </td>
          <td></td>
          <th colspan="2"> Mechanické součásti </th>
        </tr>
        <tr>
          <th colspan="2"> Odporové trimry </th>
          <td> </td>
          <td> J1 </td>
          <td> JUMP2X3 </td>
        </tr>
        <tr>
          <td> P1, P2 </td>
          <td> 1k </td>
          <td></td>
          <td> J2 </td>
          <td> JUMP2 </td>
        </tr>
        <tr>
          <th colspan="2"> Keramické kondenzátory C0805 </th>
          <td> </td>
          <th colspan="2"> Konstrukční součásti </th>
        </tr>
        <tr>
          <td> C1 </td>
          <td> 15pF </td>
          <td> </td>
          <td> 2x </td>
          <td> Šroub M3x12, křížový, válcová hlava </td>
        </tr>
        <tr>
          <td> C5, C3 </td>
          <td> 150pF </td>
          <td> </td>
          <td> 2x </td>
          <td> Podložka M3 </td>
        </tr>
        <tr>
          <td> C6, C7 </td>
          <td> 100nF </td>
          <td> </td>
          <td> 2x </td>
          <td> Sloupek M3x5 </td>
        </tr>
        <tr>
          <th colspan="2"> Tantalové kondenzátory </th>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td> C2, C4, C8 </td>
          <td> 10uF/6.3V </td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <th colspan="2"> Diody </th>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td> D1, D2, D3, D4 </td>
          <td> 1N4448SMD </td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td> D5 </td>
          <td> LED2mA_Green </td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td> D6 </td>
          <td> LED2mA_Yellow </td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td> D7 </td>
          <td> LED2mA_Red </td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td> D8 </td>
          <td> 1N4007SMD </td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </table>

      <p>
        LED a konektorové hřebínky se osazují z opačné strany než součásti SMD.
        Při lakování hotové desky je třeba dát pozor na lakování trimrů. Je
        lépe trimry nelakovat aby bylo možné pozdější nastavení rozhodovacích
        úrovní sondy.
      </p>

      <h2> Oživení a nastavení </h2>

      <p>
        Nejprve postupně zvyšujeme napájecí napětí za současného měření
        napájecího proudu. Napájecí proud by měl být cca 15mA až 20mA při
        napětí 5V.
      </p>

      <p>
        Pokud je spotřeba v těchto mezích je možné přistoupit k nastavení
        rozhodovacích úrovní logické sondy. Na vstup připojíme potenciometr
        zapojený mezi zem a napájení +5V a běžec připojíme na vstup sondy.
        Rozhodovací úroveň mezi stavy L a X se nastavuje trimrem P2 na napětí
        +0.8V a rozhodovací úroveň mezi stavy X a H nastavujeme trimrem P1 na
        napětí +2.0V.
      </p>

      <p>
        Na závěr zkontrolujeme postupným přechodem napětí na vstupu sondy mezi
        hodnotami 0V a +5V a zpět, že dochází k přechodu mezi stavy L X H a
        zpět při správných napětích.
      </p>

      <h1> Uživatelský návod </h1>

      <p>
        Sonda se vždy napájí z napájecího zdroje o napětí +5V (funguje i při
        napětí podstatně nižším, ale pak je třeba znovu nastavit rozhodovací
        úrovně). Měřený obvod musí mít propojen svou digitální zem se zemí
        sondy. Toto propojení obvykle zajišťuje nosná deska na které je sonda
        upevněna.
      </p>

      <p>
        Je třeba mít na paměti, že sonda není osciloskop a že není schopna
        poskytnou spolehlivou informaci o kvalitě signálu. Reálné obvody na
        měřené desce mohou být rušeny špičkami v napájecím napětí (jak VCC tak
        i GND), mohou reagovat na velmi krátké a ostré impulsy na svých
        vstupech (jednotky nanosekund) a obvykle mají jinou rozhodovací úroveň
        než sonda.
      </p>

    </div>

    <!-- AUTOINCLUDE START "Page/Footer.cs.ihtml" DO NOT REMOVE -->
    <!-- ============== PATIČKA ============== -->
    <div class="Footer">
      <script type="text/javascript">
      <!--
        SetRelativePath("../../../../../");
        DrawFooter();
      // -->
      </script>
      <noscript>
        <p><b> Pro zobrazení (vložení) hlavičky je potřeba JavaScript </b></p>
      </noscript>
    </div>
    <!-- AUTOINCLUDE END -->

  </body>
</html>
